<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
  <style>
    .finished {
      color: green;
    }

    .process {
      color: red;
    }
  </style>
</head>

<body>
  <div class="container-fluid p-3 m-3">
    <div class="row">
      <div class="col">
        <div class="clause pb-3" bis_skin_checked="1">
          <div class="label" bis_skin_checked="1">
            <h6>Title</h6>
          </div>
          <div class="inputs" bis_skin_checked="1">
            <input id="title" name="title" size="40"><br><em>e.g. The Godfather</em>
          </div>
        </div>

        <div class="clause pb-3" bis_skin_checked="1">
          <div class="label" bis_skin_checked="1">
            <h6>Release Date
            </h6>
          </div>
          <div class="inputs" bis_skin_checked="1">
            <input id="release_date-min" name="release_date-min" size="11" maxlength="11"> to <input
              id="release_date-max" name="release_date-max" size="11" maxlength="11">
            <br><i>Format: YYYY-MM-DD, YYYY-MM, or YYYY</i>
          </div>
        </div>
        <div class="clause pb-3" bis_skin_checked="1">
          <div class="label" bis_skin_checked="1">
            <h6>User Rating</h6>
          </div>
          <div class="inputs" bis_skin_checked="1">

            <select id="user_rating-min" name="user_rating-min">
              <option value="" selected="true">-</option>

              <option>1.0</option>
              <option>1.1</option>
              <option>1.2</option>
              <option>1.3</option>
              <option>1.4</option>
              <option>1.5</option>
              <option>1.6</option>
              <option>1.7</option>
              <option>1.8</option>
              <option>1.9</option>
              <option>2.0</option>
              <option>2.1</option>
              <option>2.2</option>
              <option>2.3</option>
              <option>2.4</option>
              <option>2.5</option>
              <option>2.6</option>
              <option>2.7</option>
              <option>2.8</option>
              <option>2.9</option>
              <option>3.0</option>
              <option>3.1</option>
              <option>3.2</option>
              <option>3.3</option>
              <option>3.4</option>
              <option>3.5</option>
              <option>3.6</option>
              <option>3.7</option>
              <option>3.8</option>
              <option>3.9</option>
              <option>4.0</option>
              <option>4.1</option>
              <option>4.2</option>
              <option>4.3</option>
              <option>4.4</option>
              <option>4.5</option>
              <option>4.6</option>
              <option>4.7</option>
              <option>4.8</option>
              <option>4.9</option>
              <option>5.0</option>
              <option>5.1</option>
              <option>5.2</option>
              <option>5.3</option>
              <option>5.4</option>
              <option>5.5</option>
              <option>5.6</option>
              <option>5.7</option>
              <option>5.8</option>
              <option>5.9</option>
              <option>6.0</option>
              <option>6.1</option>
              <option>6.2</option>
              <option>6.3</option>
              <option>6.4</option>
              <option>6.5</option>
              <option>6.6</option>
              <option>6.7</option>
              <option>6.8</option>
              <option>6.9</option>
              <option>7.0</option>
              <option>7.1</option>
              <option>7.2</option>
              <option>7.3</option>
              <option>7.4</option>
              <option>7.5</option>
              <option>7.6</option>
              <option>7.7</option>
              <option>7.8</option>
              <option>7.9</option>
              <option>8.0</option>
              <option>8.1</option>
              <option>8.2</option>
              <option>8.3</option>
              <option>8.4</option>
              <option>8.5</option>
              <option>8.6</option>
              <option>8.7</option>
              <option>8.8</option>
              <option>8.9</option>
              <option>9.0</option>
              <option>9.1</option>
              <option>9.2</option>
              <option>9.3</option>
              <option>9.4</option>
              <option>9.5</option>
              <option>9.6</option>
              <option>9.7</option>
              <option>9.8</option>
              <option>9.9</option>
              <option>10</option>

            </select>
            to
            <select id="user_rating-max" name="user_rating-max">

              <option>1.0</option>
              <option>1.1</option>
              <option>1.2</option>
              <option>1.3</option>
              <option>1.4</option>
              <option>1.5</option>
              <option>1.6</option>
              <option>1.7</option>
              <option>1.8</option>
              <option>1.9</option>
              <option>2.0</option>
              <option>2.1</option>
              <option>2.2</option>
              <option>2.3</option>
              <option>2.4</option>
              <option>2.5</option>
              <option>2.6</option>
              <option>2.7</option>
              <option>2.8</option>
              <option>2.9</option>
              <option>3.0</option>
              <option>3.1</option>
              <option>3.2</option>
              <option>3.3</option>
              <option>3.4</option>
              <option>3.5</option>
              <option>3.6</option>
              <option>3.7</option>
              <option>3.8</option>
              <option>3.9</option>
              <option>4.0</option>
              <option>4.1</option>
              <option>4.2</option>
              <option>4.3</option>
              <option>4.4</option>
              <option>4.5</option>
              <option>4.6</option>
              <option>4.7</option>
              <option>4.8</option>
              <option>4.9</option>
              <option>5.0</option>
              <option>5.1</option>
              <option>5.2</option>
              <option>5.3</option>
              <option>5.4</option>
              <option>5.5</option>
              <option>5.6</option>
              <option>5.7</option>
              <option>5.8</option>
              <option>5.9</option>
              <option>6.0</option>
              <option>6.1</option>
              <option>6.2</option>
              <option>6.3</option>
              <option>6.4</option>
              <option>6.5</option>
              <option>6.6</option>
              <option>6.7</option>
              <option>6.8</option>
              <option>6.9</option>
              <option>7.0</option>
              <option>7.1</option>
              <option>7.2</option>
              <option>7.3</option>
              <option>7.4</option>
              <option>7.5</option>
              <option>7.6</option>
              <option>7.7</option>
              <option>7.8</option>
              <option>7.9</option>
              <option>8.0</option>
              <option>8.1</option>
              <option>8.2</option>
              <option>8.3</option>
              <option>8.4</option>
              <option>8.5</option>
              <option>8.6</option>
              <option>8.7</option>
              <option>8.8</option>
              <option>8.9</option>
              <option>9.0</option>
              <option>9.1</option>
              <option>9.2</option>
              <option>9.3</option>
              <option>9.4</option>
              <option>9.5</option>
              <option>9.6</option>
              <option>9.7</option>
              <option>9.8</option>
              <option>9.9</option>
              <option>10</option>

              <option value="" selected="true">-</option>
            </select>

          </div>
        </div>
        <div class="clause pb-3" bis_skin_checked="1">
          <div class="label" bis_skin_checked="1">
            <h6>Title Type</h6>
          </div>
          <div class="inputs" bis_skin_checked="1">
            <div>
              <div>
                <div class="row row-cols-4">
                  <div class="col"><label><input id="title_type-1" type="checkbox" name="title_type" value="feature">
                      Feature
                      Film</label>
                  </div>
                  <div class="col"><label><input id="title_type-2" type="checkbox" name="title_type" value="tv_movie">
                      TV
                      Movie</label>
                  </div>
                  <div class="col"><label><input id="title_type-3" type="checkbox" name="title_type" value="tv_series">
                      TV
                      Series</label>
                  </div>
                  <div class="col"><label><input id="title_type-4" type="checkbox" name="title_type" value="tv_episode">
                      TV
                      Episode</label>
                  </div>


                  <div class="col"><label><input id="title_type-5" type="checkbox" name="title_type" value="tv_special">
                      TV
                      Special</label>
                  </div>
                  <div class="col"><label><input id="title_type-6" type="checkbox" name="title_type"
                        value="tv_miniseries">
                      TV
                      Mini-Series</label></div>
                  <div class="col"><label><input id="title_type-7" type="checkbox" name="title_type"
                        value="documentary">
                      Documentary</label></div>
                  <div class="col"><label><input id="title_type-8" type="checkbox" name="title_type" value="video_game">
                      Video
                      Game</label>
                  </div>


                  <div class="col"><label><input id="title_type-9" type="checkbox" name="title_type" value="short">
                      Short
                      Film</label>
                  </div>
                  <div class="col"><label><input id="title_type-10" type="checkbox" name="title_type" value="video">
                      Video</label></div>
                  <div class="col"><label><input id="title_type-11" type="checkbox" name="title_type" value="tv_short">
                      TV
                      Short</label>
                  </div>
                  <div class="col"><label><input id="title_type-12" type="checkbox" name="title_type"
                        value="podcast_series"> Podcast
                      Series</label></div>

                  <div class="col"><label><input id="title_type-13" type="checkbox" name="title_type"
                        value="podcast_episode"> Podcast
                      Episode</label></div>
                  <div class="col"><label><input id="title_type-14" type="checkbox" name="title_type"
                        value="music_video">
                      Music
                      Video</label></div>

                </div>
              </div>
            </div>
          </div>

          <div class="clause pb-3" bis_skin_checked="1">
            <div class="label" bis_skin_checked="1">
              <h6>Genres</h6>
            </div>
            <div class="inputs" bis_skin_checked="1">
              <div>
                <div class="row row-cols-4">
                  <div class="col"><input id="genres-1" type="checkbox" name="genres" value="action"> <label
                      for="genres-1">Action</label></div>
                  <div class="col"><input id="genres-2" type="checkbox" name="genres" value="adventure"> <label
                      for="genres-2">Adventure</label></div>
                  <div class="col"><input id="genres-3" type="checkbox" name="genres" value="animation"> <label
                      for="genres-3">Animation</label></div>
                  <div class="col"><input id="genres-4" type="checkbox" name="genres" value="biography"> <label
                      for="genres-4">Biography</label></div>


                  <div class="col"><input id="genres-5" type="checkbox" name="genres" value="comedy"> <label
                      for="genres-5">Comedy</label></div>
                  <div class="col"><input id="genres-6" type="checkbox" name="genres" value="crime"> <label
                      for="genres-6">Crime</label>
                  </div>
                  <div class="col"><input id="genres-7" type="checkbox" name="genres" value="documentary"> <label
                      for="genres-7">Documentary</label></div>
                  <div class="col"><input id="genres-8" type="checkbox" name="genres" value="drama"> <label
                      for="genres-8">Drama</label>
                  </div>


                  <div class="col"><input id="genres-9" type="checkbox" name="genres" value="family"> <label
                      for="genres-9">Family</label></div>
                  <div class="col"><input id="genres-10" type="checkbox" name="genres" value="fantasy"> <label
                      for="genres-10">Fantasy</label></div>
                  <div class="col"><input id="genres-11" type="checkbox" name="genres" value="film-noir"> <label
                      for="genres-11">Film-Noir</label></div>
                  <div class="col"><input id="genres-12" type="checkbox" name="genres" value="game-show"> <label
                      for="genres-12">Game-Show</label></div>


                  <div class="col"><input id="genres-13" type="checkbox" name="genres" value="history"> <label
                      for="genres-13">History</label></div>
                  <div class="col"><input id="genres-14" type="checkbox" name="genres" value="horror"> <label
                      for="genres-14">Horror</label></div>
                  <div class="col"><input id="genres-15" type="checkbox" name="genres" value="music"> <label
                      for="genres-15">Music</label></div>
                  <div class="col"><input id="genres-16" type="checkbox" name="genres" value="musical"> <label
                      for="genres-16">Musical</label></div>


                  <div class="col"><input id="genres-17" type="checkbox" name="genres" value="mystery"> <label
                      for="genres-17">Mystery</label></div>
                  <div class="col"><input id="genres-18" type="checkbox" name="genres" value="news"> <label
                      for="genres-18">News</label>
                  </div>
                  <div class="col"><input id="genres-19" type="checkbox" name="genres" value="reality-tv"> <label
                      for="genres-19">Reality-TV</label></div>
                  <div class="col"><input id="genres-20" type="checkbox" name="genres" value="romance"> <label
                      for="genres-20">Romance</label></div>

                  <div class="col"><input id="genres-21" type="checkbox" name="genres" value="sci-fi"> <label
                      for="genres-21">Sci-Fi</label></div>
                  <div class="col"><input id="genres-22" type="checkbox" name="genres" value="sport"> <label
                      for="genres-22">Sport</label></div>
                  <div class="col"><input id="genres-23" type="checkbox" name="genres" value="talk-show"> <label
                      for="genres-23">Talk-Show</label></div>
                  <div class="col"><input id="genres-24" type="checkbox" name="genres" value="thriller"> <label
                      for="genres-24">Thriller</label></div>

                  <div class="col"><input id="genres-25" type="checkbox" name="genres" value="war"> <label
                      for="genres-25">War</label>
                  </div>
                  <div class="col"><input id="genres-26" type="checkbox" name="genres" value="western"> <label
                      for="genres-26">Western</label></div>

                </div>
              </div>
            </div>
          </div>

          <div class="clause pb-3" bis_skin_checked="1">
            <div class="label" bis_skin_checked="1">

              <h6>Title Groups</h6>
            </div>
            <div class="inputs" bis_skin_checked="1">

              <div>
                <div class="row row-cols-4">
                  <div class="col"><input id="groups-1" type="checkbox" name="groups" value="top_100"> <label
                      for="groups-1">IMDb "Top
                      100"</label></div>
                  <div class="col"><input id="groups-2" type="checkbox" name="groups" value="top_250"> <label
                      for="groups-2">IMDb "Top
                      250"</label></div>
                  <div class="col"><input id="groups-17" type="checkbox" name="groups" value="bottom_100"> <label
                      for="groups-17">IMDb
                      "Bottom 100"</label></div>
                  <div class="col"><input id="groups-18" type="checkbox" name="groups" value="bottom_250"> <label
                      for="groups-18">IMDb
                      "Bottom 250"</label></div>
                </div>
              </div>
            </div>
          </div>
          <div class="clause pb-3" bis_skin_checked="1">

            <div class="row">

              <div class="col">
                <h6>Sort</h6>
                <select name="sort" id="sortSelect">
                  <option value="moviemeter,asc" selected=""> Popularity Ascending</option>
                  <option value="moviemeter,desc"> Popularity Descending</option>
                  <option value="alpha,asc"> A-Z Ascending</option>
                  <option value="alpha,desc"> A-Z Descending</option>
                  <option value="user_rating,asc"> User Rating Ascending</option>
                  <option value="user_rating,desc"> User Rating Descending</option>
                  <option value="num_votes,asc"> Num Votes Ascending</option>
                  <option value="num_votes,desc"> Num Votes Descending</option>

                  <option value="year,asc"> Year Ascending</option>
                  <option value="year,desc"> Year Descending</option>

                </select>
              </div>
              <div class="col">
                <h6>Display</h6>
                <select id="search-count" name="count">
                  <option value="50">50 per page</option>
                  <option value="100">100 per page</option>
                  <option value="250">250 per page</option>
                </select>
              </div>
            </div>
          </div>
          <button id="searchBtn" type="submit" class="primary" style="-webkit-text-size-adjust: 100%;
      --ipt-base-rgb: 255,255,255;
      --ipt-base-color: rgb(var(--ipt-base-rgb));
      --ipt-base-bg: var(--ipt-base-color);
      --ipt-base-shade1-rgb: 250,250,250;
      --ipt-base-shade1-color: rgb(var(--ipt-base-shade1-rgb));
      --ipt-base-shade1-bg: var(--ipt-base-shade1-color);
      --ipt-base-shade2-rgb: 240,240,240;
      --ipt-base-shade2-color: rgb(var(--ipt-base-shade2-rgb));
      --ipt-base-shade2-bg: var(--ipt-base-shade2-color);
      --ipt-base-shade3-rgb: 255,255,255;
      --ipt-base-shade3-color: rgb(var(--ipt-base-shade3-rgb));
      --ipt-base-shade3-bg: var(--ipt-base-shade3-color);
      --ipt-on-base-rgb: 0,0,0;
      --ipt-on-base-color: rgb(var(--ipt-on-base-rgb));
      --ipt-on-base-accent1-rgb: 245,197,24;
      --ipt-on-base-accent1-color: rgb(var(--ipt-on-base-accent1-rgb));
      --ipt-on-base-accent2-rgb: 14,99,190;
      --ipt-on-base-accent2-color: rgb(var(--ipt-on-base-accent2-rgb));
      --ipt-on-base-accent3-rgb: 189,36,4;
      --ipt-on-base-accent3-color: rgb(var(--ipt-on-base-accent3-rgb));
      --ipt-on-base-accent4-rgb: 0,138,0;
      --ipt-on-base-accent4-color: rgb(var(--ipt-on-base-accent4-rgb));
      --ipt-on-base-error-rgb: 189,36,4;
      --ipt-on-base-error-color: rgb(var(--ipt-on-base-error-rgb));
      --ipt-on-base-textPrimary-color: rgba(var(--ipt-on-base-rgb), .87);
      --ipt-on-base-textSecondary-color: rgba(var(--ipt-on-base-rgb), .54);
      --ipt-on-base-textHint-color: rgba(var(--ipt-on-base-rgb), .38);
      --ipt-on-base-textDisabled-color: rgba(var(--ipt-on-base-rgb), .38);
      --ipt-on-base-textIcon-color: rgba(var(--ipt-on-base-rgb), .54);
      --ipt-base-hover-opacity: 0.08;
      --ipt-base-hover-bg: rgba(var(--ipt-on-base-rgb), 0.08);
      --ipt-base-pressed-opacity: 0.16;
      --ipt-base-pressed-bg: rgba(var(--ipt-on-base-rgb), 0.16);
      --ipt-base-border-opacity: 0.12;
      --ipt-base-border-color: rgba(var(--ipt-on-base-rgb), 0.12);
      --ipt-base-stripes-opacity: 0.04;
      --ipt-on-base-stripes-rgb: 0,0,0;
      --ipt-baseAlt-rgb: 0,0,0;
      --ipt-baseAlt-color: rgb(var(--ipt-baseAlt-rgb));
      --ipt-baseAlt-bg: var(--ipt-baseAlt-color);
      --ipt-baseAlt-shade1-rgb: 31,31,31;
      --ipt-baseAlt-shade1-color: rgb(var(--ipt-baseAlt-shade1-rgb));
      --ipt-baseAlt-shade1-bg: var(--ipt-baseAlt-shade1-color);
      --ipt-baseAlt-shade2-rgb: 26,26,26;
      --ipt-baseAlt-shade2-color: rgb(var(--ipt-baseAlt-shade2-rgb));
      --ipt-baseAlt-shade2-bg: var(--ipt-baseAlt-shade2-color);
      --ipt-baseAlt-shade3-rgb: 18,18,18;
      --ipt-baseAlt-shade3-color: rgb(var(--ipt-baseAlt-shade3-rgb));
      --ipt-baseAlt-shade3-bg: var(--ipt-baseAlt-shade3-color);
      --ipt-on-baseAlt-rgb: 255,255,255;
      --ipt-on-baseAlt-color: rgb(var(--ipt-on-baseAlt-rgb));
      --ipt-on-baseAlt-accent1-rgb: 245,197,24;
      --ipt-on-baseAlt-accent1-color: rgb(var(--ipt-on-baseAlt-accent1-rgb));
      --ipt-on-baseAlt-accent2-rgb: 87,153,239;
      --ipt-on-baseAlt-accent2-color: rgb(var(--ipt-on-baseAlt-accent2-rgb));
      --ipt-on-baseAlt-accent3-rgb: 251,60,60;
      --ipt-on-baseAlt-accent3-color: rgb(var(--ipt-on-baseAlt-accent3-rgb));
      --ipt-on-baseAlt-accent4-rgb: 103,173,75;
      --ipt-on-baseAlt-accent4-color: rgb(var(--ipt-on-baseAlt-accent4-rgb));
      --ipt-on-baseAlt-error-rgb: 251,60,60;
      --ipt-on-baseAlt-error-color: rgb(var(--ipt-on-baseAlt-error-rgb));
      --ipt-on-baseAlt-textPrimary-color: rgba(var(--ipt-on-baseAlt-rgb), 1);
      --ipt-on-baseAlt-textSecondary-color: rgba(var(--ipt-on-baseAlt-rgb), .7);
      --ipt-on-baseAlt-textHint-color: rgba(var(--ipt-on-baseAlt-rgb), .5);
      --ipt-on-baseAlt-textDisabled-color: rgba(var(--ipt-on-baseAlt-rgb), .5);
      --ipt-on-baseAlt-textIcon-color: rgba(var(--ipt-on-baseAlt-rgb), 1);
      --ipt-baseAlt-hover-opacity: 0.08;
      --ipt-baseAlt-hover-bg: rgba(var(--ipt-on-baseAlt-rgb), 0.08);
      --ipt-baseAlt-pressed-opacity: 0.32;
      --ipt-baseAlt-pressed-bg: rgba(var(--ipt-on-baseAlt-rgb), 0.32);
      --ipt-baseAlt-border-opacity: 0.2;
      --ipt-baseAlt-border-color: rgba(var(--ipt-on-baseAlt-rgb), 0.2);
      --ipt-baseAlt-stripes-opacity: 0.08;
      --ipt-on-baseAlt-stripes-rgb: 255,255,255;
      --ipt-focus-outline-on-base-default: 1px dashed var(--ipt-on-base-color);
      --ipt-focus-outline-on-baseAlt-default: 1px dashed var(--ipt-on-baseAlt-color);
      --ipt-accent1-rgb: 245,197,24;
      --ipt-accent1-color: rgb(var(--ipt-accent1-rgb));
      --ipt-accent1-bg: var(--ipt-accent1-color);
      --ipt-on-accent1-rgb: 0,0,0;
      --ipt-on-accent1-color: rgb(var(--ipt-on-accent1-rgb));
      --ipt-accent2-rgb: 14,99,190;
      --ipt-accent2-color: rgb(var(--ipt-accent2-rgb));
      --ipt-accent2-bg: var(--ipt-accent2-color);
      --ipt-on-accent2-rgb: 255,255,255;
      --ipt-on-accent2-color: rgb(var(--ipt-on-accent2-rgb));
      --ipt-altAccent2-rgb: 87,153,239;
      --ipt-altAccent2-color: rgb(var(--ipt-altAccent2-rgb));
      --ipt-altAccent2-bg: var(--ipt-altAccent2-color);
      --ipt-on-altAccent2-rgb: 0,0,0;
      --ipt-on-altAccent2-color: rgb(var(--ipt-on-altAccent2-rgb));
      --ipt-accent3-rgb: 189,36,4;
      --ipt-accent3-color: rgb(var(--ipt-accent3-rgb));
      --ipt-accent3-bg: var(--ipt-accent3-color);
      --ipt-on-accent3-rgb: 255,255,255;
      --ipt-on-accent3-color: rgb(var(--ipt-on-accent3-rgb));
      --ipt-accent4-rgb: 0,114,7;
      --ipt-accent4-color: rgb(var(--ipt-accent4-rgb));
      --ipt-accent4-bg: var(--ipt-accent4-color);
      --ipt-on-accent4-rgb: 255,255,255;
      --ipt-on-accent4-color: rgb(var(--ipt-on-accent4-rgb));
      --ipt-cornerRadius: 4px;
      --ipt-pageMinHeight: 67vh;
      --ipt-base-stripes-bg: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAGBJREFUGBmFkIEKgCAMRJdShP//u0b3qInaqoNTOd/ELZtZkVcZHdf2WLesaJGTzBlFcOWyyr+wvzLDFJI1OUjQw3xlgHvwE57BVzgCQxiQGYYjUe7TSID7HQxdKkOtwRM6PBJDBy3TcAAAAABJRU5ErkJggg==);
      --ipt-baseAlt-stripes-bg: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAFNJREFUGBlj/P//vzwDBHxkZGT8AGWjUEA1AowgAijKD5XBqZgRpIAYxWCFxCiGKySkGEUhPsUYCnEpxqoQm2ImqI9BcigAGqYfoYL8TEAGPzGKAcYdNCelTSU5AAAAAElFTkSuQmCC);
      --ipt-pageMargin: 1.5rem;
      --ipt-font-family: Roboto, Helvetica, Arial, sans-serif;
      --ipt-font-root-size: 100%;
      --ipc-listCard-base-bg: var(--ipt-base-shade3-bg);
      --ipc-listCard-base-rgb: var(--ipt-base-shade3-rgb);
      --ipc-listCard-baseAlt-bg: var(--ipt-baseAlt-shade2-bg);
      --ipc-listCard-baseAlt-rgb: var(--ipt-baseAlt-shade2-rgb);
      --ipc-pageSection-base-rgb: var(--ipt-base-shade1-rgb);
      --ipc-pageSection-base-bg: var(--ipt-base-shade1-bg);
      --ipc-pageSection-baseAlt-rgb: var(--ipt-baseAlt-shade3-rgb);
      --ipc-pageSection-baseAlt-bg: var(--ipt-baseAlt-shade3-bg);
      --ipc-pageSection-bottomMargin: .5rem;
      --ipt-focus-outline-on-base: none;
      --ipt-focus-outline-on-baseAlt: none;
      box-sizing: border-box;
      margin: 0;
      text-transform: none;
      line-height: inherit;
      border-radius: 3px;
      -webkit-appearance: button;
      background: #f3ce00 url(/images/S/sash/$T5-wDkRMEMI4UX.gif) 0 0 repeat-x;
      color: #000000 !important;
      cursor: pointer;
      display: inline-block;
      font-family: Verdana, Arial, Helvetica, sans-serif;
      font-size: 12px;
      font-weight: bold;
      margin-bottom: 4px;
      overflow: visible;
      padding: 6px 10px;
      text-decoration: none;
      vertical-align: middle;
      background-image: none;
      border: 1px solid #E6B800;">Search</button>
        </div>

      </div>
      <div class="col">
        <h6>Trạng thái</h6>
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col" style="width: 400px !important">Url</th>
              <th scope="col">Status</th>
              <th scope="col">Creation date</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>

          </tbody>
        </table>
      </div>
    </div>
  </div>


  <script type="importmap">
    {
      "imports": {
        "socket.io-client": "https://cdn.socket.io/4.4.1/socket.io.esm.min.js"
      }
    }
  </script>


  <script type="module">
    const searchBtn = document.querySelector('#searchBtn');
    const tbody = document.querySelector('tbody');

    const titleInput = document.querySelector('#title');
    const releaseDateFromInput = document.querySelector('#release_date-min');
    const releaseDateUntilInput = document.querySelector('#release_date-max');
    const userRatingMinSelect = document.querySelector('#user_rating-min');
    const userRatingMaxSelect = document.querySelector('#user_rating-max');
    const titleTypeCheckBoxes = document.querySelectorAll('input[name="title_type"]');
    const genresCheckBoxes = document.querySelectorAll('input[name="genres"]');
    const groupsCheckBoxes = document.querySelectorAll('input[name="groups"]');
    const sortSelect = document.querySelector('#sortSelect');
    const countSelect = document.querySelector('#search-count');

    import { io } from 'socket.io-client'

    const socket = io('http://54.206.33.42:3000', {
      reconnect: true
    });

    socket.on('connect', () => {
      console.log('Connected to server!');
    });

    socket.on('notiEmit', (msg) => {
      console.log(msg);

      const tr = document.querySelector(`tr[crawl-id="${msg.crawl_id}"]`);

      console.log(tr);
      let status = tr.querySelector('td[status]')
      if (msg.message === 'hoàn thành') {
        status = tr.querySelector('.process');

        const classlist = status.classList;
        classlist.remove('process');
        classlist.add('finished');
        status.classList = classlist;
      }

      status.textContent = msg.message
    });

    socket.on('disconnect', () => {
      console.log('Disconnected from server!');
    });

    searchBtn.addEventListener('click', async (e) => {
      e.preventDefault();

      const dataObj = {};

      dataObj.sort = sortSelect.value;
      dataObj.count = +countSelect.value;
      let url = `https://www.imdb.com/search/title/?sort=${dataObj.sort}&count=${dataObj.count}`;

      if (titleInput.value) {
        dataObj.title = titleInput.value;
        url += `&title${dataObj.title}`;
      }

      if (releaseDateFromInput.value)
        dataObj.release_date_from = releaseDateFromInput.value;

      if (releaseDateUntilInput.value)
        dataObj.release_date_until = releaseDateUntilInput.value;

      if (dataObj.release_date_from || dataObj.release_date_until) {
        url += `&release_date=${dataObj.release_date_from},${dataObj.release_date_until}`;
      }

      if (userRatingMinSelect.value)
        dataObj.min_rating = +userRatingMinSelect.value;

      if (userRatingMaxSelect.value)
        dataObj.max_rating = +userRatingMaxSelect.value;

      if (dataObj.max_rating || dataObj.min_rating) {
        url += `&user_rating=${dataObj.min_rating},${dataObj.max_rating}`;
      }

      const titleTypeArr = [];

      titleTypeCheckBoxes.forEach((checkbox) => {
        if (checkbox.checked) {
          titleTypeArr.push(checkbox.value);
        }
      });

      if (titleTypeArr.length > 0) {
        dataObj.title_type = titleTypeArr;
        url += `&title_type=${dataObj.title_type.join(',')}`;
      }

      const genresArr = [];

      genresCheckBoxes.forEach((checkbox) => {
        if (checkbox.checked) {
          genresArr.push(checkbox.value);
        }
      });

      if (genresArr.length > 0) {
        dataObj.genres = genresArr;
        url += `&genres=${dataObj.genres.join(',')}`;
      }

      const groupsArr = [];

      groupsCheckBoxes.forEach((checkbox) => {
        if (checkbox.checked) {
          groupsArr.push(checkbox.value);
        }
      });

      if (groupsArr.length > 0) {
        dataObj.groups = groupsArr;
        url += `&groups=${dataObj.groups.join(',')}`;
      }


      console.log(dataObj);

      try {
        const response = await fetch('http://54.206.33.42:3000/api/v1/crawler', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(dataObj)
        });

        const dataResponse = await response.json();
        console.log(dataResponse);

        if (dataResponse.status_code !== 200) throw new Error(dataResponse.message);

        let rowCount = 1;

        const crawlerInfo = document.querySelectorAll('.crawler-info');
        console.log(crawlerInfo);
        if (crawlerInfo.length > 0) {
          rowCount = +crawlerInfo[crawlerInfo.length - 1].querySelector('th[stt]').textContent + 1;
        }

        const timeNow = new Date();

        tbody.insertAdjacentHTML('beforeend', `
          <tr class="crawler-info" crawl-id="${dataResponse.data.crawl_id}">
            <th stt scope="row">${rowCount}</th>
            <td class="d-inline-block text-truncate" style="max-width: 400px;">${url}</td>
            <td status class="process">Đã gửi yêu cầu</td>
            <td>${timeNow.toLocaleString()}</td>
            <td>${dataResponse.data.crawl_id}
              
            </td>
          </tr>
        `)
      } catch (e) {
        alert(e);
      }
    });

  </script>
</body>

</html>